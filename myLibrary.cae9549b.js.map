{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAMAC,EAAAC,KAAKC,kBAAkBC,iBAAiB,SAoCxCC,eAAgCC,GAC5BA,EAAIC,iBACJN,EAAAC,KAAKC,kBAAkBK,UAAUC,IAAI,kBACrCR,EAAAC,KAAKQ,gBAAgBF,UAAUG,OAAO,kBAGtCV,EAAAC,KAAKU,wBAAwBC,UAAY,GAEzC,MAAMC,QAAaC,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKgB,oBACrC,IAAKJ,EAEH,YADAb,EAAAC,KAAKiB,eAAeX,UAAUG,OAAO,UAGzCS,EAAoBN,GAChBb,EAAAC,KAAKiB,eAAeX,UAAUC,IAAI,S,IAjDxCR,EAAAC,KAAKQ,gBAAgBN,iBAAiB,SAoDtCC,eAA8BC,GAC3BA,EAAIC,iBACHN,EAAAC,KAAKQ,gBAAgBF,UAAUC,IAAI,kBACnCR,EAAAC,KAAKC,kBAAkBK,UAAUG,OAAO,kBAExCV,EAAAC,KAAKU,wBAAwBC,UAAY,GACzC,MAAMC,QAAaC,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKmB,oBACrC,IAAKP,EAEH,YADAb,EAAAC,KAAKiB,eAAeX,UAAUG,OAAO,UAIzCS,EAAoBN,GAChBb,EAAAC,KAAKiB,eAAeX,UAAUC,IAAI,S,IA/DxC,IAAIa,EAAgB,EAChBC,EAAc,EAiElB,SAASH,EAAoBN,GAE3B,MAAMU,EAASV,EACZW,KAAI,EAACC,GAAEA,EAAEC,YAAEA,EAAWC,UAAEA,EAASC,aAAEA,EAAYC,MAAEA,EAAKC,aAAEA,KAChD,+IAGQJ,EACI,4CAA4CD,WAAYzB,EAAAC,KAAK8B,UAAUL,WAAqBG,MAC5F,4CAA4CJ,gFAAiFI,0FAI5HA,EACI,oCAAoCA,SACpC,oCAAoCG,gHAIrCL,EACI,qBAAoB,EAAAM,EAAAC,sBAClBP,KAEF,MAEzBC,EACI,2BAA2BA,EAAaO,MAAM,EAAG,YACjD,4CAEkBL,EAAaM,QAAQ,mHAM9CC,KAAK,IAENrC,EAAAC,KAAKU,wBAAwB2B,mBAAmB,aAAcf,E,EAlGlE,WACE,IACCF,EAAiBP,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKgB,oBAAqBsB,M,CACvD,MAAOC,GACRnB,EAAgB,C,CAGjB,IACCC,EAAeR,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKmB,oBAAqBmB,M,CACrD,MAAOE,GACRnB,EAAc,C,CAGf,GAAsB,IAAlBD,GAAuC,IAAhBC,EACzBtB,EAAAC,KAAKiB,eAAeX,UAAUG,OAAO,eAChC,GAAqB,GAAjBW,EAAoB,CAC7BrB,EAAAC,KAAKiB,eAAeX,UAAUC,IAAI,UAIlCR,EAAAC,KAAKU,wBAAwBC,UAAY,GAEzCO,EADaL,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKgB,oB,EAvBnCyB,G","sources":["src/index-library.js","src/js/renderMarkupLibrary.js"],"sourcesContent":["import './js/thema';\nimport './js/refs.js';\nimport './js/renderMarkupLibrary.js';\nimport './js/modal'\nimport './js/modalInfo/appModalInfo';\n","import { refs } from './refs';\nimport { renderGenresHomePage } from './formattedGenresOnHomePage';\nimport storage from './storage';\n// import notify from \n\n\nrefs.watchedBtnLibrary.addEventListener('click', onWatchedLibrary);\nrefs.queueBtnLibrary.addEventListener('click', onQueueLibrary);\n\nlet watchedLength = 0;\nlet queueLength = 0;\n\nlibraryStart();\n\nfunction libraryStart() {\n  try {\n   watchedLength = (storage.load(refs.LS_KEY_WATCH_MOVIE)).length;\n  } catch (error) {\n   watchedLength = 0;\n  };\n\n  try {\n   queueLength = (storage.load(refs.LS_KEY_QUERY_MOVIE)).length;\n  } catch (error) {\n   queueLength = 0;\n  };\n\n  if (watchedLength === 0 && queueLength === 0) {\n    refs.galleryMessage.classList.remove('hidden');\n  } else if (watchedLength != 0) {\n    refs.galleryMessage.classList.add('hidden');\n    \n    // refs.watchedBtnLibrary.classList.add('btn__is-active');\n    // refs.queueBtnLibrary.classList.remove('btn__is-active');\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = storage.load(refs.LS_KEY_WATCH_MOVIE);\n    renderMarkupLibrary(data);\n  }\n\n}\n\n\nasync function onWatchedLibrary(evt) {\n    evt.preventDefault();\n    refs.watchedBtnLibrary.classList.add('btn__is-active');\n    refs.queueBtnLibrary.classList.remove('btn__is-active');\n\n   // console.log(refs.galleryContainerLibrary);\n    refs.galleryContainerLibrary.innerHTML = '';\n\n    const data = await storage.load(refs.LS_KEY_WATCH_MOVIE);\n    if (!data) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    }\n  renderMarkupLibrary(data);\n      refs.galleryMessage.classList.add('hidden');\n}\n\nasync function onQueueLibrary(evt) {\n   evt.preventDefault();\n    refs.queueBtnLibrary.classList.add('btn__is-active');\n    refs.watchedBtnLibrary.classList.remove('btn__is-active');\n\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = await storage.load(refs.LS_KEY_QUERY_MOVIE);\n    if (!data) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    }\n   // console.log(data);\n  renderMarkupLibrary(data);\n      refs.galleryMessage.classList.add('hidden');\n}\n\nfunction renderMarkupLibrary(data) {\n   // console.log('data', data);\n  const markup = data\n    .map(({ id, poster_path, genre_ids, release_date, title, vote_average }) => {\n      return `<li class=\"gallery__item\">\n                <a  class=\"gallery__item__link\"  target=\"_blank\" rel=\"noopener noreferrer\">\n                   ${\n                     poster_path\n                       ? `<img class=\"gallery__item__img\" data-id=\"${id}\" src=\"${refs.IMG_URL}${poster_path}\" alt=\"${title}\">`\n                       : `<img class=\"gallery__item__img\" data-id=\"${id}\" src=\"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg\" alt=\"${title}\">`\n                   } \n                    <div class=\"gallery__item__text\">\n                        ${\n                          title\n                            ? `<h3 class=\"gallery__item__title\">${title}</h3>`\n                            : `<h3 class=\"gallery__item__title\">${original_name}</h3>`\n                        }\n                        <div class=\"gallery__item__descr\">\n                           ${\n                             genre_ids\n                               ? `<p class=\"genre\">${renderGenresHomePage(\n                                   genre_ids\n                                 )}`\n                               : ''\n                           } ${\n        release_date\n          ? `| <span class=\"genre\">  ${release_date.slice(0, 4)}</span>`\n          : ''\n      } </p>    \n       <span class=\"rating\">${vote_average.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`;\n    })\n    .join('');\n  \n    refs.galleryContainerLibrary.insertAdjacentHTML(\"afterbegin\", markup);\n}\n"],"names":["parcelRequire","$krGWQ","refs","watchedBtnLibrary","addEventListener","async","evt","preventDefault","classList","add","queueBtnLibrary","remove","galleryContainerLibrary","innerHTML","data","$5uEKZ","default","load","LS_KEY_WATCH_MOVIE","galleryMessage","$d8f2a5a1b724d40d$var$renderMarkupLibrary","LS_KEY_QUERY_MOVIE","$d8f2a5a1b724d40d$var$watchedLength","$d8f2a5a1b724d40d$var$queueLength","markup","map","id","poster_path","genre_ids","release_date","title","vote_average","IMG_URL","original_name","$3Hr66","renderGenresHomePage","slice","toFixed","join","insertAdjacentHTML","length","error","error1","$d8f2a5a1b724d40d$var$libraryStart"],"version":3,"file":"myLibrary.cae9549b.js.map"}