{"mappings":"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","sources":["src/index-library.js","src/js/renderMarkupLibrary.js"],"sourcesContent":["import './js/thema';\nimport './js/refs.js';\nimport './js/renderMarkupLibrary.js';\nimport './js/modal'\nimport './js/modalInfo/appModalInfo';\n","import { refs } from './refs';\nimport { renderGenresHomePage } from './formattedGenresOnHomePage';\nimport storage from './storage';\n// import notify from \n\n\nrefs.watchedBtnLibrary.addEventListener('click', onWatchedLibrary);\nrefs.queueBtnLibrary.addEventListener('click', onQueueLibrary);\n\nlet watchedLength = 0;\nlet queueLength = 0;\n\nlibraryStart();\n\nfunction libraryStart() {\n  try {\n   watchedLength = (storage.load(refs.LS_KEY_WATCH_MOVIE)).length;\n  } catch (error) {\n   watchedLength = 0;\n  };\n\n  try {\n   queueLength = (storage.load(refs.LS_KEY_QUERY_MOVIE)).length;\n  } catch (error) {\n   queueLength = 0;\n  };\n\n  if (watchedLength === 0 && queueLength === 0) {\n    refs.galleryMessage.classList.remove('hidden');\n  } else if (watchedLength != 0) {\n    refs.galleryMessage.classList.add('hidden');\n    \n    // refs.watchedBtnLibrary.classList.add('btn__is-active');\n    // refs.queueBtnLibrary.classList.remove('btn__is-active');\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = storage.load(refs.LS_KEY_WATCH_MOVIE);\n    renderMarkupLibrary(data);\n  }\n\n}\n\n\nasync function onWatchedLibrary(evt) {\n    evt.preventDefault();\n    refs.watchedBtnLibrary.classList.add('btn__is-active');\n    refs.queueBtnLibrary.classList.remove('btn__is-active');\n\n   // console.log(refs.galleryContainerLibrary);\n    refs.galleryContainerLibrary.innerHTML = '';\n\n    const data = await storage.load(refs.LS_KEY_WATCH_MOVIE);\n    if (!data) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    }\n  renderMarkupLibrary(data);\n      refs.galleryMessage.classList.add('hidden');\n}\n\nasync function onQueueLibrary(evt) {\n   evt.preventDefault();\n    refs.queueBtnLibrary.classList.add('btn__is-active');\n    refs.watchedBtnLibrary.classList.remove('btn__is-active');\n\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = await storage.load(refs.LS_KEY_QUERY_MOVIE);\n    if (!data) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    }\n   // console.log(data);\n  renderMarkupLibrary(data);\n      refs.galleryMessage.classList.add('hidden');\n}\n\nfunction renderMarkupLibrary(data) {\n   // console.log('data', data);\n  const markup = data\n    .map(({ id, poster_path, genre_ids, release_date, title, vote_average }) => {\n      return `<li class=\"gallery__item\">\n                <a  class=\"gallery__item__link\"  target=\"_blank\" rel=\"noopener noreferrer\">\n                   ${\n                     poster_path\n                       ? `<img class=\"gallery__item__img\" data-id=\"${id}\" src=\"${refs.IMG_URL}${poster_path}\" alt=\"${title}\">`\n                       : `<img class=\"gallery__item__img\" data-id=\"${id}\" src=\"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg\" alt=\"${title}\">`\n                   } \n                    <div class=\"gallery__item__text\">\n                        ${\n                          title\n                            ? `<h3 class=\"gallery__item__title\">${title}</h3>`\n                            : `<h3 class=\"gallery__item__title\">${original_name}</h3>`\n                        }\n                        <div class=\"gallery__item__descr\">\n                           ${\n                             genre_ids\n                               ? `<p class=\"genre\">${renderGenresHomePage(\n                                   genre_ids\n                                 )}`\n                               : ''\n                           } ${\n        release_date\n          ? `| <span class=\"genre\">  ${release_date.slice(0, 4)}</span>`\n          : ''\n      } </p>    \n       <span class=\"rating\">${vote_average.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`;\n    })\n    .join('');\n  \n    refs.galleryContainerLibrary.insertAdjacentHTML(\"afterbegin\", markup);\n}\n"],"names":["parcelRequire","$bpxeT","$4Nugj","refs","watchedBtnLibrary","addEventListener","evt","$b66c145aafe186c6$var$_onWatchedLibrary","apply","this","arguments","queueBtnLibrary","$b66c145aafe186c6$var$_onQueueLibrary","$b66c145aafe186c6$var$watchedLength","$b66c145aafe186c6$var$queueLength","$parcel$interopDefault","$2TvXO","mark","_callee","data","preventDefault","classList","add","remove","galleryContainerLibrary","innerHTML","$jzQFI","default","load","LS_KEY_WATCH_MOVIE","_ctx","sent","galleryMessage","$b66c145aafe186c6$var$renderMarkupLibrary","LS_KEY_QUERY_MOVIE","markup","map","param","id","poster_path","genre_ids","release_date","title","vote_average","concat","IMG_URL","original_name","$5WCHM","renderGenresHomePage","slice","toFixed","join","insertAdjacentHTML","length","error","error1","$b66c145aafe186c6$var$libraryStart"],"version":3,"file":"myLibrary.b8762f88.js.map"}