const e=document.querySelector("#theme-switch-toggle"),t="light-theme",a="dark-theme";function o(){document.body.classList.toggle(a),document.body.classList.toggle(t),document.body.classList.contains(t)?(e.setAttribute("checked",!1),localStorage.setItem("active-theme",t)):document.body.classList.contains(a)&&(e.setAttribute("checked",!0),localStorage.setItem("active-theme",a))}document.body.classList.add(t),e.addEventListener("change",o),localStorage.getItem("active-theme")===a&&o();const r={API_KEY:"ade224e438a5cac910232dacab4d697a",POPULAR_URL:"https://api.themoviedb.org/3/trending/movie/day",GENRES_URL:"https://api.themoviedb.org/3/genre/movie/list",SEARCH_URL:"https://api.themoviedb.org/3/search/movie",STORAGE_KEY:"genres_key",LS_KEY_POPULAR_MOVIE:"popular_movie_key",LS_KEY_QUERY_MOVIE:"query_movie_key",LS_KEY_WATCH_MOVIE:"watch_movie_key",gallerySetEL:document.querySelector(".js-gallery__set"),backdropEl:document.querySelector(".js-backdrop"),modalInfoEL:document.querySelector(".js-modal__info"),containerModalInfo:document.querySelector(".js-film__container--info"),closeBtnModalInfo:document.querySelector(".js-btn__info--close"),watchedBtnModalInfo:document.querySelector(".js-btn__info--watched"),queueBtnModalInfo:document.querySelector(".js-btn__info--queue"),homePageGallery:document.querySelector(".gallery__set"),watchedBtnLibrary:document.querySelector(".lib__watched"),queueBtnLibrary:document.querySelector(".lib__queue"),galleryContainerLibrary:document.querySelector(".gallery__library__set"),IMG_URL:"https://image.tmdb.org/t/p/w500"};document.querySelector(".header__input"),document.querySelector(".form-icon"),document.querySelector(".form-notification");function n(e){const t=localStorage.getItem(r.STORAGE_KEY),a=JSON.parse(t).genresData,o=e.map((e=>a.find((t=>t.id==e)).name));return o.length>3?(o.splice(3),o[2]="Other"):0===o.length&&(o[0]="Genre unknown"),o.join(", ")}var l={save:(e,t)=>{try{const a=JSON.stringify(t);localStorage.setItem(e,a)}catch(e){console.error("Set state error: ",e.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},remove:e=>{try{localStorage.removeItem(e)}catch(e){console.error(e.message)}}};function c(e){console.log("data",e);const t=e.map((({id:e,poster_path:t,genre_ids:a,release_date:o,title:l,vote_average:c})=>`<li class="gallery__item">\n                <a  class="gallery__item__link"  target="_blank" rel="noopener noreferrer">\n                   ${t?`<img class="gallery__item__img" data-id="${e}" src="${r.IMG_URL}${t}" alt="${l}">`:`<img class="gallery__item__img" data-id="${e}" src="https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg" alt="${l}">`} \n                    <div class="gallery__item__text">\n                        ${l?`<h3 class="gallery__item__title">${l}</h3>`:`<h3 class="gallery__item__title">${original_name}</h3>`}\n                        <div class="gallery__item__descr">\n                           ${a?`<p class="genre">${n(a)}`:""} ${o?`| <span class="genre">  ${o.slice(0,4)}</span>`:""} </p>    \n       <span class="rating">${c.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`)).join("");console.log(t),r.galleryContainerLibrary.insertAdjacentHTML("afterbegin",t)}r.watchedBtnLibrary.addEventListener("click",(async function(e){e.preventDefault(),r.watchedBtnLibrary.classList.add("btn__is-active"),r.queueBtnLibrary.classList.remove("btn__is-active"),console.log(r.galleryContainerLibrary);const t=await l.load(r.LS_KEY_WATCH_MOVIE);console.log(t),c(t)})),r.queueBtnLibrary.addEventListener("click",(async function(e){e.preventDefault(),r.queueBtnLibrary.classList.add("btn__is-active"),r.watchedBtnLibrary.classList.remove("btn__is-active");const t=await l.load(r.LS_KEY_QUERY_MOVIE);console.log(t),c(t)}));
//# sourceMappingURL=myLibrary.a55bf2d6.js.map
