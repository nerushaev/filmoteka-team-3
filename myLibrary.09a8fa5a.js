const e={API_KEY:"ade224e438a5cac910232dacab4d697a",POPULAR_URL:"https://api.themoviedb.org/3/trending/movie/day",GENRES_URL:"https://api.themoviedb.org/3/genre/movie/list",SEARCH_URL:"https://api.themoviedb.org/3/search/movie",STORAGE_KEY:"genres_key",LS_KEY_POPULAR_MOVIE:"popular_movie_key",LS_KEY_QUERY_MOVIE:"query_movie_key",LS_KEY_WATCH_MOVIE:"watch_movie_key",gallerySetEL:document.querySelector(".js-gallery__set"),backdropEl:document.querySelector(".js-backdrop"),modalInfoEL:document.querySelector(".js-modal__info"),containerModalInfo:document.querySelector(".js-film__container--info"),closeBtnModalInfo:document.querySelector(".js-btn__info--close"),watchedBtnModalInfo:document.querySelector(".js-btn__info--watched"),queueBtnModalInfo:document.querySelector(".js-btn__info--queue"),homePageGallery:document.querySelector(".gallery__set"),watchedBtnLibrary:document.querySelector(".lib__watched"),queueBtnLibrary:document.querySelector(".lib__queue"),galleryContainerLibrary:document.querySelector(".gallery__library__set"),IMG_URL:"https://image.tmdb.org/t/p/w500"};document.querySelector(".header__input"),document.querySelector(".form-icon"),document.querySelector(".form-notification");function t(t){const a=localStorage.getItem(e.STORAGE_KEY),r=JSON.parse(a).genresData,o=t.map((e=>r.find((t=>t.id==e)).name));return o.length>3?(o.splice(3),o[2]="Other"):0===o.length&&(o[0]="Genre unknown"),o.join(", ")}var a={save:(e,t)=>{try{const a=JSON.stringify(t);localStorage.setItem(e,a)}catch(e){console.error("Set state error: ",e.message)}},load:e=>{try{const t=localStorage.getItem(e);return null===t?void 0:JSON.parse(t)}catch(e){console.error("Get state error: ",e.message)}},remove:e=>{try{localStorage.removeItem(e)}catch(e){console.error(e.message)}}};function r(a){console.log("data",a);const r=a.map((({id:a,poster_path:r,genre_ids:o,release_date:n,title:l,vote_average:c})=>`<li class="gallery__item">\n                <a  class="gallery__item__link"  target="_blank" rel="noopener noreferrer">\n                   ${r?`<img class="gallery__item__img" data-id="${a}" src="${e.IMG_URL}${r}" alt="${l}">`:`<img class="gallery__item__img" data-id="${a}" src="https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg" alt="${l}">`} \n                    <div class="gallery__item__text">\n                        ${l?`<h3 class="gallery__item__title">${l}</h3>`:`<h3 class="gallery__item__title">${original_name}</h3>`}\n                        <div class="gallery__item__descr">\n                           ${o?`<p class="genre">${t(o)}`:""} ${n?`| <span class="genre">  ${n.slice(0,4)}</span>`:""} </p>    \n       <span class="rating">${c.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`)).join("");console.log(r),e.galleryContainerLibrary.insertAdjacentHTML("afterbegin",r)}e.watchedBtnLibrary.addEventListener("click",(async function(t){t.preventDefault(),e.watchedBtnLibrary.classList.add("btn__is-active"),e.queueBtnLibrary.classList.remove("btn__is-active"),console.log(e.galleryContainerLibrary);const o=await a.load(e.LS_KEY_WATCH_MOVIE);console.log(o),r(o)})),e.queueBtnLibrary.addEventListener("click",(async function(t){t.preventDefault(),e.queueBtnLibrary.classList.add("btn__is-active"),e.watchedBtnLibrary.classList.remove("btn__is-active");const o=await a.load(e.LS_KEY_QUERY_MOVIE);console.log(o),r(o)}));
//# sourceMappingURL=myLibrary.09a8fa5a.js.map
