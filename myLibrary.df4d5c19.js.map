{"mappings":"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","sources":["src/index-library.js","src/js/renderMarkupLibrary.js"],"sourcesContent":["import './js/thema';\nimport './js/refs.js';\nimport './js/renderMarkupLibrary.js';\nimport './js/pagination';\nimport './js/modal';\nimport './js/modalInfo/appModalInfo';\nimport './js/modalInfo/btnModalLibrary';\n","import { refs } from './refs';\nimport { renderGenresHomePage } from './formattedGenresOnHomePage';\nimport storage from './storage';\nimport { createPagination } from './pagination';\n// import notify from \n\n\nrefs.watchedBtnLibrary.addEventListener('click', onWatchedLibrary);\nrefs.queueBtnLibrary.addEventListener('click', onQueueLibrary);\n\nlet watchedLength = 0;\nlet queueLength = 0;\n\nlibraryStart();\n\nfunction libraryStart() {\n  // const pagination = createPagination();\n  // console.log(pagination);\n  \n  try {\n    watchedLength = (storage.load(refs.LS_KEY_WATCH_MOVIE)).length;\n  } catch (error) {\n    watchedLength = 0;\n  };\n\n  try {\n    queueLength = (storage.load(refs.LS_KEY_QUERY_MOVIE)).length;\n  } catch (error) {\n    queueLength = 0;\n  };\n\n  if (watchedLength === 0 && queueLength === 0) {\n    refs.galleryMessage.classList.remove('hidden');\n  } else if (watchedLength != 0) {\n    refs.galleryMessage.classList.add('hidden');\n    \n    // refs.watchedBtnLibrary.classList.add('btn__is-active');\n    // refs.queueBtnLibrary.classList.remove('btn__is-active');\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = storage.load(refs.LS_KEY_WATCH_MOVIE);\n\n    console.log(data.length);\n    renderMarkupLibrary(data);\n\n  //   let totalResult = data.length;\n  // const currentPage = 1;\n  // const totalPagesLib = totalResult / currentPage;\n  //   console.log(totalPagesLib);\n    \n  //   pagination.setTotalItems(totalResult);\n  //   pagination.setItemsPerPage(6);\n  //   pagination.movePageTo(currentPage)\n    \n  //   pagination.on('afterMove', e => {\n  //         const currentPage = e.page;\n  //         console.log(currentPage);\n      \n  //         // scrollUp();\n  //   })\n  }\n}\n\n// function getDataLibrary(data) {\n//   let totalResult = data.length;\n//   const currentPage = 6;\n//   const totalPagesLib = totalResult / currentPage;\n//   console.log(totalPagesLib);\n\n// }\n\n\nasync function onWatchedLibrary(evt) {\n    evt.preventDefault();\n    refs.watchedBtnLibrary.classList.add('btn__is-active');\n  refs.queueBtnLibrary.classList.remove('btn__is-active');\n  \n    const childNodesGallery = refs.galleryContainerLibrary.childNodes;\n\n  console.log(childNodesGallery);\n  if (childNodesGallery.length !== 0) {\n    console.log(\"aaa\");\n    refs.galleryMessage.classList.remove('hidden');\n  }\n\n   // console.log(refs.galleryContainerLibrary);\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = await storage.load(refs.LS_KEY_WATCH_MOVIE);\n    if (!data) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    } else {\n      renderMarkupLibrary(data);\n    }\n  \n  \n  // refs.galleryMessage.classList.add('hidden');\n}\n\nasync function onQueueLibrary(evt) {\n   evt.preventDefault();\n    refs.queueBtnLibrary.classList.add('btn__is-active');\n  refs.watchedBtnLibrary.classList.remove('btn__is-active');\n  \n  const childNodesGallery = refs.galleryContainerLibrary.childNodes;\n\n  if (childNodesGallery.length !== 0) {\n    console.log(\"aaa\");\n    refs.galleryMessage.classList.add('hidden');\n  }\n\n    refs.galleryContainerLibrary.innerHTML = '';\n  const data = await storage.load(refs.LS_KEY_QUERY_MOVIE);\n  console.log(data);\n    if (data.length === 0) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    } else {\n        renderMarkupLibrary(data);\n    }\n   // console.log(data);\n  // renderMarkupLibrary(data);\n      // refs.galleryMessage.classList.add('hidden');\n}\n\nfunction renderMarkupLibrary(data) {\n   // console.log('data', data);\n  const markup = data\n    .map(({ id, poster_path, genre_ids, release_date, title, vote_average }) => {\n      return `<li class=\"gallery__item\" data-id2=\"${id}\">\n                <a  class=\"gallery__item__link\" data-id=\"${id}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                   ${\n                     poster_path\n                       ? `<img class=\"gallery__item__img\" src=\"${refs.IMG_URL}${poster_path}\" alt=\"${title}\">`\n                       : `<img class=\"gallery__item__img\" src=\"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg\" alt=\"${title}\">`\n                   } \n                    <div class=\"gallery__item__text\" data-id=\"${id}\">\n                        ${\n                          title\n                            ? `<h3 class=\"gallery__item__title\">${title}</h3>`\n                            : `<h3 class=\"gallery__item__title\">${original_name}</h3>`\n                        }\n                        <div class=\"gallery__item__descr\" data-id=\"${id}\">\n                           ${\n                             genre_ids\n                               ? `<p class=\"genre\" data-id=\"${id}\">${renderGenresHomePage(\n                                   genre_ids\n                                 )}`\n                               : ''\n                           } ${\n        release_date\n          ? `| <span class=\"genre\">  ${release_date.slice(0, 4)}</span>`\n          : ''\n      } </p>    \n       <span class=\"rating\">${vote_average.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`;\n    })\n    .join('');\n  refs.galleryContainerLibrary.insertAdjacentHTML(\"afterbegin\", markup);\n  \n}\n\n\n"],"names":["parcelRequire","$bpxeT","$4Nugj","refs","watchedBtnLibrary","addEventListener","evt","$b66c145aafe186c6$var$_onWatchedLibrary","apply","this","arguments","queueBtnLibrary","$b66c145aafe186c6$var$_onQueueLibrary","$b66c145aafe186c6$var$watchedLength","$b66c145aafe186c6$var$queueLength","$parcel$interopDefault","$2TvXO","mark","_callee","childNodesGallery","data","preventDefault","classList","add","remove","galleryContainerLibrary","childNodes","console","log","length","galleryMessage","innerHTML","$jzQFI","default","load","LS_KEY_WATCH_MOVIE","_ctx","sent","$b66c145aafe186c6$var$renderMarkupLibrary","LS_KEY_QUERY_MOVIE","markup","map","param","id","poster_path","genre_ids","release_date","title","vote_average","concat","IMG_URL","original_name","$5WCHM","renderGenresHomePage","slice","toFixed","join","insertAdjacentHTML","error","error1","$b66c145aafe186c6$var$libraryStart"],"version":3,"file":"myLibrary.df4d5c19.js.map"}