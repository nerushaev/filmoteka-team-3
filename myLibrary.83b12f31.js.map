{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,0BAMAC,EAAAC,KAAKC,kBAAkBC,iBAAiB,SA4BxCC,eAAgCC,GAC5BA,EAAIC,iBACJN,EAAAC,KAAKC,kBAAkBK,UAAUC,IAAI,kBACrCR,EAAAC,KAAKQ,gBAAgBF,UAAUG,OAAO,kBAExCV,EAAAC,KAAKU,wBAAwBC,UAAY,GACzCZ,EAAAC,KAAKY,eAAeN,UAAUC,IAAI,UAElC,MAAMM,QAAgBC,EAAAC,QAAQC,KAAKjB,EAAAC,KAAKiB,oBAClCC,EAAoBnB,EAAAC,KAAKU,wBAAwBS,WAEvDC,EAAoBP,GAEa,IAA7BK,EAAkBG,QAEpBtB,EAAAC,KAAKY,eAAeN,UAAUG,OAAO,S,IA1CzCV,EAAAC,KAAKQ,gBAAgBN,iBAAiB,SAgDtCC,eAA8BC,GAC3BA,EAAIC,iBACJN,EAAAC,KAAKQ,gBAAgBF,UAAUC,IAAI,kBAClCR,EAAAC,KAAKC,kBAAkBK,UAAUG,OAAO,kBAG1CV,EAAAC,KAAKU,wBAAwBC,UAAY,GACzCZ,EAAAC,KAAKY,eAAeN,UAAUC,IAAI,UAElC,MAAMe,QAAgBR,EAAAC,QAAQC,KAAKjB,EAAAC,KAAKuB,oBAClCL,EAAoBnB,EAAAC,KAAKU,wBAAwBS,WAEvDC,EAAoBE,GAEe,IAA7BJ,EAAkBG,QAEtBtB,EAAAC,KAAKY,eAAeN,UAAUG,OAAO,S,IA9DzC,IAAIe,EAAgB,EAkEpB,SAASJ,EAAoBK,GAE3B,MAAMC,EAASD,EACZE,KAAI,EAACC,GAAEA,EAAEC,YAAEA,EAAWC,UAAEA,EAASC,aAAEA,EAAYC,MAAEA,EAAKC,aAAEA,KAChD,uCAAuCL,iEACOA,qEAEtCC,EACI,wCAAwC9B,EAAAC,KAAKkC,UAAUL,WAAqBG,MAC5E,6GAA6GA,yEAEtEJ,gCAEtCI,EACI,oCAAoCA,SACpC,oCAAoCG,4FAEGP,mCAExCE,EACI,6BAA6BF,OAAO,EAAAQ,EAAAC,sBAClCP,KAEF,MAEzBC,EACI,2BAA2BA,EAAaO,MAAM,EAAG,YACjD,4CAEkBL,EAAaM,QAAQ,mHAM9CC,KAAK,IACRzC,EAAAC,KAAKU,wBAAwB+B,mBAAmB,aAAcf,E,EAjGhE,WAEE,IACEF,EAAiBV,EAAAC,QAAQC,KAAKjB,EAAAC,KAAKiB,oBAAqBI,M,CACxD,MAAOqB,GACPlB,EAAgB,C,CAGlB,GAAsB,IAAlBA,EACFzB,EAAAC,KAAKY,eAAeN,UAAUG,OAAO,eAChC,GAAsB,IAAlBe,EAAqB,CAE9B,MAAMC,EAAOX,EAAAC,QAAQC,KAAKjB,EAAAC,KAAKiB,oBAC/BlB,EAAAC,KAAKY,eAAeN,UAAUC,IAAI,UAClCR,EAAAC,KAAKU,wBAAwBC,UAAY,GACzCS,EAAoBK,E,EAjBxBkB,G","sources":["src/index-library.js","src/js/renderMarkupLibrary.js"],"sourcesContent":["import './js/thema';\nimport './js/refs.js';\nimport './js/renderMarkupLibrary.js';\nimport './js/pagination';\nimport './js/modal';\nimport './js/modalInfo/appModalInfo';\nimport './js/modalInfo/btnModalLibrary';\nimport './js/scrollUp.js';","import { refs } from './refs';\nimport { renderGenresHomePage } from './formattedGenresOnHomePage';\nimport storage from './storage';\n// import notify from \n\n\nrefs.watchedBtnLibrary.addEventListener('click', onWatchedLibrary);\nrefs.queueBtnLibrary.addEventListener('click', onQueueLibrary);\n\nlet watchedLength = 0;\n// let queueLength = 0;\n\nlibraryStart();\n\nfunction libraryStart() {\n\n  try {\n    watchedLength = (storage.load(refs.LS_KEY_WATCH_MOVIE)).length;\n  } catch (error) {\n    watchedLength = 0;\n  };\n\n  if (watchedLength === 0) {\n    refs.galleryMessage.classList.remove('hidden');\n  } else if (watchedLength !== 0) {\n  \n    const data = storage.load(refs.LS_KEY_WATCH_MOVIE);\n    refs.galleryMessage.classList.add('hidden');\n    refs.galleryContainerLibrary.innerHTML = '';\n    renderMarkupLibrary(data);\n  }\n}\n\n\nasync function onWatchedLibrary(evt) {\n    evt.preventDefault();\n    refs.watchedBtnLibrary.classList.add('btn__is-active');\n    refs.queueBtnLibrary.classList.remove('btn__is-active');\n  \n  refs.galleryContainerLibrary.innerHTML = '';\n  refs.galleryMessage.classList.add('hidden');\n  \n  const dataWat = await storage.load(refs.LS_KEY_WATCH_MOVIE);\n  const childNodesGallery = refs.galleryContainerLibrary.childNodes;\n\n  renderMarkupLibrary(dataWat);\n\n  if (childNodesGallery.length === 0) {\n    // console.log(\"aaa\");\n    refs.galleryMessage.classList.remove('hidden');\n  }\n  \n\n}\n\nasync function onQueueLibrary(evt) {\n   evt.preventDefault();\n   refs.queueBtnLibrary.classList.add('btn__is-active');\n    refs.watchedBtnLibrary.classList.remove('btn__is-active');\n\n    \n  refs.galleryContainerLibrary.innerHTML = '';\n  refs.galleryMessage.classList.add('hidden');\n\n  const dataQue = await storage.load(refs.LS_KEY_QUERY_MOVIE);\n  const childNodesGallery = refs.galleryContainerLibrary.childNodes;\n\n  renderMarkupLibrary(dataQue);\n  \n    if (childNodesGallery.length === 0) {\n    // console.log(\"aaa\");\n    refs.galleryMessage.classList.remove('hidden');\n  }\n}\n\nfunction renderMarkupLibrary(data) {\n   // console.log('data', data);\n  const markup = data\n    .map(({ id, poster_path, genre_ids, release_date, title, vote_average }) => {\n      return `<li class=\"gallery__item\" data-id2=\"${id}\">\n                <a  class=\"gallery__item__link\" data-id=\"${id}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                   ${\n                     poster_path\n                       ? `<img class=\"gallery__item__img\" src=\"${refs.IMG_URL}${poster_path}\" alt=\"${title}\">`\n                       : `<img class=\"gallery__item__img\" src=\"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg\" alt=\"${title}\">`\n                   } \n                    <div class=\"gallery__item__text\" data-id=\"${id}\">\n                        ${\n                          title\n                            ? `<h3 class=\"gallery__item__title\">${title}</h3>`\n                            : `<h3 class=\"gallery__item__title\">${original_name}</h3>`\n                        }\n                        <div class=\"gallery__item__descr\" data-id=\"${id}\">\n                           ${\n                             genre_ids\n                               ? `<p class=\"genre\" data-id=\"${id}\">${renderGenresHomePage(\n                                   genre_ids\n                                 )}`\n                               : ''\n                           } ${\n        release_date\n          ? `| <span class=\"genre\">  ${release_date.slice(0, 4)}</span>`\n          : ''\n      } </p>    \n       <span class=\"rating\">${vote_average.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`;\n    })\n    .join('');\n  refs.galleryContainerLibrary.insertAdjacentHTML(\"afterbegin\", markup);\n  \n}\n\n\n"],"names":["parcelRequire","$krGWQ","refs","watchedBtnLibrary","addEventListener","async","evt","preventDefault","classList","add","queueBtnLibrary","remove","galleryContainerLibrary","innerHTML","galleryMessage","dataWat","$5uEKZ","default","load","LS_KEY_WATCH_MOVIE","childNodesGallery","childNodes","$d8f2a5a1b724d40d$var$renderMarkupLibrary","length","dataQue","LS_KEY_QUERY_MOVIE","$d8f2a5a1b724d40d$var$watchedLength","data","markup","map","id","poster_path","genre_ids","release_date","title","vote_average","IMG_URL","original_name","$3Hr66","renderGenresHomePage","slice","toFixed","join","insertAdjacentHTML","error","$d8f2a5a1b724d40d$var$libraryStart"],"version":3,"file":"myLibrary.83b12f31.js.map"}