{"mappings":"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","sources":["src/index-library.js","src/js/renderMarkupLibrary.js"],"sourcesContent":["import './js/thema';\nimport './js/refs.js';\nimport './js/renderMarkupLibrary.js';\nimport './js/pagination';\nimport './js/modal';\nimport './js/modalInfo/appModalInfo';\nimport './js/modalInfo/btnModalLibrary';\nimport './js/scrollUp.js';","import { refs } from './refs';\nimport { renderGenresHomePage } from './formattedGenresOnHomePage';\nimport storage from './storage';\n// import notify from \n\n\nrefs.watchedBtnLibrary.addEventListener('click', onWatchedLibrary);\nrefs.queueBtnLibrary.addEventListener('click', onQueueLibrary);\n\nlet watchedLength = 0;\n// let queueLength = 0;\n\nlibraryStart();\n\nfunction libraryStart() {\n\n  try {\n    watchedLength = (storage.load(refs.LS_KEY_WATCH_MOVIE)).length;\n  } catch (error) {\n    watchedLength = 0;\n  };\n\n  if (watchedLength === 0) {\n    refs.galleryMessage.classList.remove('hidden');\n  } else if (watchedLength !== 0) {\n  \n    const data = storage.load(refs.LS_KEY_WATCH_MOVIE);\n    refs.galleryMessage.classList.add('hidden');\n    refs.galleryContainerLibrary.innerHTML = '';\n    renderMarkupLibrary(data);\n  }\n}\n\n\nasync function onWatchedLibrary(evt) {\n    evt.preventDefault();\n    refs.watchedBtnLibrary.classList.add('btn__is-active');\n    refs.queueBtnLibrary.classList.remove('btn__is-active');\n  \n  refs.galleryContainerLibrary.innerHTML = '';\n  refs.galleryMessage.classList.add('hidden');\n  \n  const dataWat = await storage.load(refs.LS_KEY_WATCH_MOVIE);\n  const childNodesGallery = refs.galleryContainerLibrary.childNodes;\n\n  renderMarkupLibrary(dataWat);\n\n  if (childNodesGallery.length === 0) {\n    // console.log(\"aaa\");\n    refs.galleryMessage.classList.remove('hidden');\n  }\n  \n\n}\n\nasync function onQueueLibrary(evt) {\n   evt.preventDefault();\n   refs.queueBtnLibrary.classList.add('btn__is-active');\n    refs.watchedBtnLibrary.classList.remove('btn__is-active');\n\n    \n  refs.galleryContainerLibrary.innerHTML = '';\n  refs.galleryMessage.classList.add('hidden');\n\n  const dataQue = await storage.load(refs.LS_KEY_QUERY_MOVIE);\n  const childNodesGallery = refs.galleryContainerLibrary.childNodes;\n\n  renderMarkupLibrary(dataQue);\n  \n    if (childNodesGallery.length === 0) {\n    // console.log(\"aaa\");\n    refs.galleryMessage.classList.remove('hidden');\n  }\n}\n\nfunction renderMarkupLibrary(data) {\n   // console.log('data', data);\n  const markup = data\n    .map(({ id, poster_path, genre_ids, release_date, title, vote_average }) => {\n      return `<li class=\"gallery__item\" data-id2=\"${id}\">\n                <a  class=\"gallery__item__link\" data-id=\"${id}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                   ${\n                     poster_path\n                       ? `<img class=\"gallery__item__img\" src=\"${refs.IMG_URL}${poster_path}\" alt=\"${title}\">`\n                       : `<img class=\"gallery__item__img\" src=\"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg\" alt=\"${title}\">`\n                   } \n                    <div class=\"gallery__item__text\" data-id=\"${id}\">\n                        ${\n                          title\n                            ? `<h3 class=\"gallery__item__title\">${title}</h3>`\n                            : `<h3 class=\"gallery__item__title\">${original_name}</h3>`\n                        }\n                        <div class=\"gallery__item__descr\" data-id=\"${id}\">\n                           ${\n                             genre_ids\n                               ? `<p class=\"genre\" data-id=\"${id}\">${renderGenresHomePage(\n                                   genre_ids\n                                 )}`\n                               : ''\n                           } ${\n        release_date\n          ? `| <span class=\"genre\">  ${release_date.slice(0, 4)}</span>`\n          : ''\n      } </p>    \n       <span class=\"rating\">${vote_average.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`;\n    })\n    .join('');\n  refs.galleryContainerLibrary.insertAdjacentHTML(\"afterbegin\", markup);\n  \n}\n\n\n"],"names":["parcelRequire","$bpxeT","$4Nugj","refs","watchedBtnLibrary","addEventListener","evt","$b66c145aafe186c6$var$_onWatchedLibrary","apply","this","arguments","queueBtnLibrary","$b66c145aafe186c6$var$_onQueueLibrary","$b66c145aafe186c6$var$watchedLength","$parcel$interopDefault","$2TvXO","mark","_callee","dataWat","childNodesGallery","preventDefault","classList","add","remove","galleryContainerLibrary","innerHTML","galleryMessage","$jzQFI","default","load","LS_KEY_WATCH_MOVIE","_ctx","sent","childNodes","$b66c145aafe186c6$var$renderMarkupLibrary","length","dataQue","LS_KEY_QUERY_MOVIE","data","markup","map","param","id","poster_path","genre_ids","release_date","title","vote_average","concat","IMG_URL","original_name","$5WCHM","renderGenresHomePage","slice","toFixed","join","insertAdjacentHTML","error","$b66c145aafe186c6$var$libraryStart"],"version":3,"file":"myLibrary.9b083111.js.map"}