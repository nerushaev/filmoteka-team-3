{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,qCAOAC,EAAAC,KAAKC,kBAAkBC,iBAAiB,SAgExCC,eAAgCC,GAC5BA,EAAIC,iBACJN,EAAAC,KAAKC,kBAAkBK,UAAUC,IAAI,kBACrCR,EAAAC,KAAKQ,gBAAgBF,UAAUG,OAAO,kBAGtCV,EAAAC,KAAKU,wBAAwBC,UAAY,GACzC,MAAMC,QAAaC,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKgB,oBACrC,IAAKJ,EAEH,YADAb,EAAAC,KAAKiB,eAAeX,UAAUG,OAAO,UAGrCS,EAAoBN,E,IA3E1Bb,EAAAC,KAAKQ,gBAAgBN,iBAAiB,SAkFtCC,eAA8BC,GAC3BA,EAAIC,iBACHN,EAAAC,KAAKQ,gBAAgBF,UAAUC,IAAI,kBACnCR,EAAAC,KAAKC,kBAAkBK,UAAUG,OAAO,kBAExCV,EAAAC,KAAKU,wBAAwBC,UAAY,GAC3C,MAAMC,QAAaC,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKmB,oBAEnC,GADFC,QAAQC,IAAIT,GACU,IAAhBA,EAAKU,OAEP,YADAvB,EAAAC,KAAKiB,eAAeX,UAAUG,OAAO,UAGnCS,EAAoBN,E,IA5F5B,IAAIW,EAAgB,EAChBC,EAAc,EAkGlB,SAASN,EAAoBN,GAE3B,MAAMa,EAASb,EACZc,KAAI,EAACC,GAAEA,EAAEC,YAAEA,EAAWC,UAAEA,EAASC,aAAEA,EAAYC,MAAEA,EAAKC,aAAEA,KAChD,uCAAuCL,iEACOA,qEAEtCC,EACI,wCAAwC7B,EAAAC,KAAKiC,UAAUL,WAAqBG,MAC5E,6GAA6GA,yEAEtEJ,gCAEtCI,EACI,oCAAoCA,SACpC,oCAAoCG,4FAEGP,mCAExCE,EACI,6BAA6BF,OAAO,EAAAQ,EAAAC,sBAClCP,KAEF,MAEzBC,EACI,2BAA2BA,EAAaO,MAAM,EAAG,YACjD,4CAEkBL,EAAaM,QAAQ,mHAM9CC,KAAK,IACRxC,EAAAC,KAAKU,wBAAwB8B,mBAAmB,aAAcf,E,EAlIhE,WAIE,IACEF,EAAiBV,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKgB,oBAAqBM,M,CACxD,MAAOmB,GACPlB,EAAgB,C,CAGlB,IACEC,EAAeX,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKmB,oBAAqBG,M,CACtD,MAAOoB,GACPlB,EAAc,C,CAGhB,GAAsB,IAAlBD,GAAuC,IAAhBC,EACzBzB,EAAAC,KAAKiB,eAAeX,UAAUG,OAAO,eAChC,GAAqB,GAAjBc,EAAoB,CAC7BxB,EAAAC,KAAKiB,eAAeX,UAAUC,IAAI,UAIlCR,EAAAC,KAAKU,wBAAwBC,UAAY,GACzC,MAAMC,EAAOC,EAAAC,QAAQC,KAAKhB,EAAAC,KAAKgB,oBAE/BI,QAAQC,IAAIT,EAAKU,QACjBJ,EAAoBN,E,EA7BxB+B,G","sources":["src/index-library.js","src/js/renderMarkupLibrary.js"],"sourcesContent":["import './js/thema';\nimport './js/refs.js';\nimport './js/renderMarkupLibrary.js';\nimport './js/pagination';\nimport './js/modal';\nimport './js/modalInfo/appModalInfo';\nimport './js/modalInfo/btnModalLibrary';\n","import { refs } from './refs';\nimport { renderGenresHomePage } from './formattedGenresOnHomePage';\nimport storage from './storage';\nimport { createPagination } from './pagination';\n// import notify from \n\n\nrefs.watchedBtnLibrary.addEventListener('click', onWatchedLibrary);\nrefs.queueBtnLibrary.addEventListener('click', onQueueLibrary);\n\nlet watchedLength = 0;\nlet queueLength = 0;\n\nlibraryStart();\n\nfunction libraryStart() {\n  // const pagination = createPagination();\n  // console.log(pagination);\n  \n  try {\n    watchedLength = (storage.load(refs.LS_KEY_WATCH_MOVIE)).length;\n  } catch (error) {\n    watchedLength = 0;\n  };\n\n  try {\n    queueLength = (storage.load(refs.LS_KEY_QUERY_MOVIE)).length;\n  } catch (error) {\n    queueLength = 0;\n  };\n\n  if (watchedLength === 0 && queueLength === 0) {\n    refs.galleryMessage.classList.remove('hidden');\n  } else if (watchedLength != 0) {\n    refs.galleryMessage.classList.add('hidden');\n    \n    // refs.watchedBtnLibrary.classList.add('btn__is-active');\n    // refs.queueBtnLibrary.classList.remove('btn__is-active');\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = storage.load(refs.LS_KEY_WATCH_MOVIE);\n\n    console.log(data.length);\n    renderMarkupLibrary(data);\n\n  //   let totalResult = data.length;\n  // const currentPage = 1;\n  // const totalPagesLib = totalResult / currentPage;\n  //   console.log(totalPagesLib);\n    \n  //   pagination.setTotalItems(totalResult);\n  //   pagination.setItemsPerPage(6);\n  //   pagination.movePageTo(currentPage)\n    \n  //   pagination.on('afterMove', e => {\n  //         const currentPage = e.page;\n  //         console.log(currentPage);\n      \n  //         // scrollUp();\n  //   })\n  }\n}\n\n// function getDataLibrary(data) {\n//   let totalResult = data.length;\n//   const currentPage = 6;\n//   const totalPagesLib = totalResult / currentPage;\n//   console.log(totalPagesLib);\n\n// }\n\n\nasync function onWatchedLibrary(evt) {\n    evt.preventDefault();\n    refs.watchedBtnLibrary.classList.add('btn__is-active');\n    refs.queueBtnLibrary.classList.remove('btn__is-active');\n\n   // console.log(refs.galleryContainerLibrary);\n    refs.galleryContainerLibrary.innerHTML = '';\n    const data = await storage.load(refs.LS_KEY_WATCH_MOVIE);\n    if (!data) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    } else {\n      renderMarkupLibrary(data);\n    }\n  \n  \n  // refs.galleryMessage.classList.add('hidden');\n}\n\nasync function onQueueLibrary(evt) {\n   evt.preventDefault();\n    refs.queueBtnLibrary.classList.add('btn__is-active');\n    refs.watchedBtnLibrary.classList.remove('btn__is-active');\n\n    refs.galleryContainerLibrary.innerHTML = '';\n  const data = await storage.load(refs.LS_KEY_QUERY_MOVIE);\n  console.log(data);\n    if (data.length === 0) {\n      refs.galleryMessage.classList.remove('hidden');\n      return;\n    } else {\n        renderMarkupLibrary(data);\n    }\n   // console.log(data);\n  // renderMarkupLibrary(data);\n      // refs.galleryMessage.classList.add('hidden');\n}\n\nfunction renderMarkupLibrary(data) {\n   // console.log('data', data);\n  const markup = data\n    .map(({ id, poster_path, genre_ids, release_date, title, vote_average }) => {\n      return `<li class=\"gallery__item\" data-id2=\"${id}\">\n                <a  class=\"gallery__item__link\" data-id=\"${id}\" target=\"_blank\" rel=\"noopener noreferrer\">\n                   ${\n                     poster_path\n                       ? `<img class=\"gallery__item__img\" src=\"${refs.IMG_URL}${poster_path}\" alt=\"${title}\">`\n                       : `<img class=\"gallery__item__img\" src=\"https://sd.keepcalms.com/i-w600/keep-calm-poster-not-found.jpg\" alt=\"${title}\">`\n                   } \n                    <div class=\"gallery__item__text\" data-id=\"${id}\">\n                        ${\n                          title\n                            ? `<h3 class=\"gallery__item__title\">${title}</h3>`\n                            : `<h3 class=\"gallery__item__title\">${original_name}</h3>`\n                        }\n                        <div class=\"gallery__item__descr\" data-id=\"${id}\">\n                           ${\n                             genre_ids\n                               ? `<p class=\"genre\" data-id=\"${id}\">${renderGenresHomePage(\n                                   genre_ids\n                                 )}`\n                               : ''\n                           } ${\n        release_date\n          ? `| <span class=\"genre\">  ${release_date.slice(0, 4)}</span>`\n          : ''\n      } </p>    \n       <span class=\"rating\">${vote_average.toFixed(1)}</span>\n                        </div>\n                    </div>\n                </a>\n            </li>`;\n    })\n    .join('');\n  refs.galleryContainerLibrary.insertAdjacentHTML(\"afterbegin\", markup);\n  \n}\n\n\n"],"names":["parcelRequire","$krGWQ","refs","watchedBtnLibrary","addEventListener","async","evt","preventDefault","classList","add","queueBtnLibrary","remove","galleryContainerLibrary","innerHTML","data","$5uEKZ","default","load","LS_KEY_WATCH_MOVIE","galleryMessage","$d8f2a5a1b724d40d$var$renderMarkupLibrary","LS_KEY_QUERY_MOVIE","console","log","length","$d8f2a5a1b724d40d$var$watchedLength","$d8f2a5a1b724d40d$var$queueLength","markup","map","id","poster_path","genre_ids","release_date","title","vote_average","IMG_URL","original_name","$3Hr66","renderGenresHomePage","slice","toFixed","join","insertAdjacentHTML","error","error1","$d8f2a5a1b724d40d$var$libraryStart"],"version":3,"file":"myLibrary.b9e1d946.js.map"}